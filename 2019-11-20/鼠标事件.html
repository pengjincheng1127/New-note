<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #box {
            width: 200px;
            height: 200px;
            background: slateblue;
            position: absolute;
            left: 0;
            top: 0;
            cursor: move;
        }
    </style>

</head>

<body style="height:3000px">
    <div id="box"></div>
    <button id="btn">按钮</button>
    <button id="btn2">按钮2</button>
    <script>
        /*
        如果没有添加事件某个元素身上有没有事件:
            当一个元素创建出来的时候，天生就有事件，只不过事件的默认值为null
            如果某个元素有这个事件，默认值为null，如果没有这个事件这个事件值为undefined
            当用户操作页面的时候，浏览器会见厅用户的操作行为，当用户触发某个事件之后，如果对应得事件函数，那么就调用该事件函数，也就是说，就算没有事件函数也会出发事件，没有相应知识因为没有绑定事件函数

            如果要解除事件函数 =》 给元素事件赋值null 

            事件对象

            当调用事件函数打的时候事件函数的第一个参数一定是事件对象
            事件对象记录用户触发事件时的细节信息

        ev.clientX/ev.clientY 这2个坐标是基于浏览器可视区的位置

        ev.pageX/ev.pageY 这个距离是基于页面的（加上了滚动条的距离）

        */
        btn2.onclick = function () {
            alert('点击')
        }

        function changan(cd) {
            let timer;
            btn.onmousedown = function () {
                let time = +new Date;
                timer = setInterval(() => {
                    let now = new Date;
                    if (now - time > 1000) {
                        cb() //钩子函数，生命周期函数
                    }
                })
            }
            btn.onmouseup = function () {
                clearInterval(timer);
            }
        }
        let num = 1;
        changan(function () {
            num -= .01;
            box.style.opacity = num;
        })

        box.onmousemove = function (ev) {
            console.log(ev);
            this.style.left = ev.clientX - this.clientWidth / 2 + 'px';
            this.style.top = ev.pageY - this.clientHeight / 2 + 'px';
        }
        
    </script>
</body>

</html>