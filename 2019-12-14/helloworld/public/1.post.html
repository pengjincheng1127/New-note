<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    注册的用户名:<input id="user" type="text" /><span id="s"></span> </br>
    注册的密码:<input type="password" id="pw" />
    <button id="btn">提交</button>

<script>
/*
    QueryUrlParmas
    {
        user:this.value,
        pw:123456,
        age:'10'
    }


  

   
*/
/*  let obj = new URLSearchParams({
        user:'haha',
        pw:12345,
        age:'10'
    });

    console.log(''+obj) //  user=aaa&pw=123456&age=10
 */
    user.onblur = function(){
        /* fetch('/post',{
            method:'post',
            body:''+ new URLSearchParams({
                user:this.value
            }),
            headers:{
                'content-type':'application/x-www-form-urlencoded'
            }
        }).then(d=>d.json()).then(d=>{
            console.log(d);
            
        }) */

        var xhr = new XMLHttpRequest;

        xhr.open('post','/post',true);
        xhr.setRequestHeader('content-type','application/x-www-form-urlencoded');
        xhr.send('user='+this.value);
        xhr.onload = function(){
            console.log(xhr.responseText);
        }

    }

    /*
    open 有三个参数 method url boolean
    参数一：有get和post
    参数二： url
    参数三：当该boolean值为true时，服务器请求是异步进行的，也就是脚本执行send()方法后不等待服务器的执行结果，而是继续执行脚本代码;
            当该boolean值为false时，服务器请求是同步进行的，也就是脚本send()方法后等待服务器的执行结果的返回，若等待过程中超时，则不再等待，继续执行后面的脚本代码
    */
</script>
</body>

</html>